<template>
    <div ref="loader" class="loader">
      <div ref="block" class="block">
        <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 248.026 57.214">
          <g id="logo">
            <g>
              <g>
                <path class="cls-1" d="M34.405,19.643c1.49,4.714,3.015,9.22,4.471,13.898h.069c1.282-4.298,2.911-9.149,4.437-13.898h4.229l-6.516,17.919h-4.471c-2.183-5.962-4.332-11.957-6.516-17.919h4.296Z"/>
                <path class="cls-1" d="M50.244,16.835v-3.951h4.193v3.951h-4.193Zm.105,2.807h3.985v17.919h-3.985V19.643Z"/>
                <path class="cls-1" d="M74.296,26.368v11.195h-3.985v-10.363c0-2.911-.935-4.748-3.466-4.748s-4.298,1.63-4.298,6.031v9.08h-4.021V19.644h3.985v3.431c.624-2.114,2.357-3.916,5.338-3.916,4.645,0,6.447,3.084,6.447,7.208Z"/>
                <path class="cls-1" d="M86.703,38.048c-5.372,0-9.428-3.743-9.428-9.428s4.055-9.462,9.428-9.462c4.437,0,7.452,2.496,8.145,6.17h-3.847c-.658-1.802-2.01-2.981-4.367-2.981-3.015,0-5.407,2.391-5.407,6.273s2.357,6.239,5.407,6.239c2.218,0,3.813-1.04,4.437-3.084h3.847c-.832,4.055-3.916,6.273-8.214,6.273h-.001Z"/>
                <path class="cls-1" d="M114.811,29.694h-13.794c.277,3.258,2.357,5.13,5.164,5.13,2.044,0,3.743-.763,4.401-2.565h3.987c-1.074,3.639-4.159,5.788-8.388,5.788-5.372,0-9.046-3.847-9.046-9.496s3.813-9.393,9.046-9.393c6.1,0,8.596,4.714,8.63,9.773v.763Zm-3.985-2.912c-.277-2.807-1.906-4.506-4.679-4.506s-4.645,1.767-5.06,4.506h9.739Z"/>
                <path class="cls-1" d="M121.951,32.987v4.575h-4.645v-4.575h4.645Z"/>
                <path class="cls-1" d="M123.753,19.643h4.124l2.357,9.393c.416,1.664,.624,2.981,1.006,4.714h.034c.416-1.664,.624-3.05,1.074-4.853l2.322-9.254h4.748l2.322,9.288c.382,1.525,.727,3.292,1.109,4.887h.034c.347-1.49,.693-3.258,1.074-4.887l2.254-9.288h4.124l-5.164,17.919h-4.679l-2.426-9.357c-.382-1.49-.763-3.084-1.006-4.401h-.103c-.311,1.49-.59,2.807-.97,4.367l-2.426,9.393h-4.679l-5.13-17.919h-.001Z"/>
                <path class="cls-1" d="M151.582,28.62c0-5.615,3.916-9.462,9.22-9.462s9.22,3.847,9.22,9.462-3.916,9.428-9.22,9.428-9.22-3.813-9.22-9.428h0Zm14.418,0c0-3.639-2.218-6.17-5.199-6.17s-5.199,2.53-5.199,6.17,2.218,6.17,5.199,6.17,5.199-2.565,5.199-6.17Z"/>
                <path class="cls-1" d="M177.23,29.07v8.491h-4.021V19.643h3.951v3.813h.069c.693-2.426,2.426-4.021,5.268-4.159v4.021c-3.397,.034-5.268,2.218-5.268,5.754h.001Z"/>
                <path class="cls-1" d="M191.092,30.042l-1.733,1.767v5.754h-4.021V12.816h4.021v14.245l7.071-7.416h4.817l-7.487,7.66,8.04,10.26h-4.922l-5.788-7.521h.001Z"/>
                <path class="cls-1" d="M209.945,22.208c-1.559,0-2.911,.935-2.911,2.218,0,1.733,2.08,2.218,5.095,2.911,3.154,.693,5.441,2.183,5.441,5.06,0,3.571-3.431,5.649-7.382,5.649-3.674,0-7.14-1.664-7.556-5.962h3.987c.347,1.975,1.559,2.876,3.639,2.876,1.698,0,3.292-.693,3.292-2.357,0-1.767-1.767-2.044-4.645-2.738-2.876-.658-5.754-2.01-5.754-5.268s3.189-5.441,6.863-5.441c3.882,0,6.794,1.975,7.208,5.857h-3.813c-.277-1.975-1.838-2.807-3.466-2.807v.003Z"/>
              </g>
              <path class="cls-1" d="M219.419,57.214H28.607C12.833,57.214,0,44.381,0,28.607S12.833,0,28.607,0H219.419c15.774,0,28.607,12.833,28.607,28.607s-12.833,28.607-28.607,28.607ZM28.607,4.015C15.048,4.015,4.017,15.047,4.017,28.606s11.031,24.59,24.59,24.59H219.419c13.559,0,24.59-11.031,24.59-24.59s-11.031-24.59-24.59-24.59H28.607Z"/>
            </g>
          </g>
        </svg>
      </div>
    </div>
  </template>

  <script setup>
  import { onMounted, ref } from 'vue';
  import { gsap } from 'gsap';

  const loader = ref(null);
  const block = ref(null);

  onMounted(() => {
    const tl = gsap.timeline();

    // PHASE 1: normal speed blink
    tl.to(block.value, { autoAlpha: 0, duration: 0.26, repeat: 5, yoyo: true });

    // PHASE 2: a little break, opacity 0 for a while
    tl.to(block.value, { autoAlpha: 0, duration: 0.22 }) // Fast disappearance
    //  .to(block.value, { duration: 0.10, delay: 0.10 }); // Adding delay of 1 second

    // PHASE 3: 3 fast blink
    tl.to(block.value, { autoAlpha: 1, duration: 0.15, repeat: 5, yoyo: true, immediateRender: false });
    tl.to(block.value, { autoAlpha: 1, duration: 0.03, repeat: 5, yoyo: true, immediateRender: false });

    // PHASE 4: Preloader FADE OFF with a delay of 500ms
    tl.to(loader.value, { autoAlpha: 0, duration: 0.33, delay: 0.11 });
  });
  </script>


  <style scoped lang="scss">
  .loader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background-color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 1;
    z-index: 9999999;
  }

  .block {
    width: 200px;
    height: auto;
    background-color: transparent;

    opacity: 1;
    svg{
      path{
        fill:blue
      }
    }
  }
  </style>
